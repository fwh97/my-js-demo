<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<script type="text/javascript">
function q(){
var a=new Array(2);
for(var i=0; i<a.length; i++){
do{
 a[i]=parseInt(prompt("请输入1、2、3，1：剪刀、2：石头、3：布",""));
if(a[i]!=1&&a[i]!=2&&a[i]!=3){
alert("输入错误，重新输入，只能输入1、2、3之中的一个数");}
}while(a[i]!=1&&a[i]!=2&&a[i]!=3);}
   var sa=c(a[0]);
   var v=a[0];
   var sb=c(a[1]);
   var b=a[1];
var r=parseInt((Math.random()*10)%3)+1;
var sr=c(r);

if(v==b&&v==r&&b==r)
{document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，平局！");}
else if(v!=b&&v!=r&&b!=r){document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，，平局！");}
else if((v==r+1||v==r-2)&&(v==b+1||v==b-2))
	   {
		 document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，玩家1赢！，玩家2和计算机继续比<br/>");
		 alert("玩家2和计算机继续比");
		  do{
		a[1]=parseInt(prompt("玩家2请输入1、2、3，1：剪刀、2：石头、3：布",""));
	  if(a[1]!=1&&a[1]!=2&&a[1]!=3){
	  alert("输入错误，重新输入，只能输入1、2、3之中的一个数");}
	  }while(a[1]!=1&&a[1]!=2&&a[1]!=3);
		 var p=parseInt(Math.random()*10%3)+1;
		  var sq=c(a[1]);
		  var sp=c(p);
		  if(a[1]==p){
		 document.write("玩家2出"+sq+"，计算机出"+sp+"，平局");}
		  else if(a[1]==p+1||a[1]==p-2){document.write("玩家出"+sq+"，计算机出"+sp+"，玩家胜");}
		else{ document.write("玩家2出"+sq+"，计算机出"+sp+"，电脑胜");} 
				 
		}
  
else if((b==r+1||b==r-2)&&(b==v+1||b==v-2))
{       document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，玩家2赢！，玩家1和计算机继续比<br/>");
		alert("玩家1和计算机继续比");
		do{
		 a[0]=parseInt(prompt("玩家1请输入1、2、3，1：剪刀、2：石头、3：布",""));
		if(a[0]!=1&&a[0]!=2&&a[0]!=3){
		alert("输入错误，重新输入，只能输入1、2、3之中的一个数");}
		}while(a[0]!=1&&a[0]!=2&&a[0]!=3);
		var w=parseInt(Math.random()*10%3)+1;
		var se=c(a[0]);
		var sw=c(w);
		if(a[0]==w){
		document.write("玩家1出"+se+"，计算机出"+sw+"，平局");}
		else if(a[0]==w+1||a[0]==w-2){document.write("玩家1出"+se+"，计算机出"+sw+"，玩家胜");}
		else{ document.write("玩家1出"+se+"，计算机出"+sw+"，电脑胜");}          
}

else if((r==v+1||r==v-2)&&(r==b+1||r==b-2))
		{document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，计算机赢！，玩家1和玩家2继续比<br/>");
		  alert("玩家1和玩家2继续比");
		
		  for(var i=0; i<2; i++){
		  do{
		  a[i]=parseInt(prompt("玩家"+(i+1)+"请输入1、2、3，1：剪刀、2：石头、3：布",""));
		  if(a[i]!=1&&a[i]!=2&&a[i]!=3){
		  alert("输入错误，重新输入，只能输入1、2、3之中的一个数");}
		  }while(a[i]!=1&&a[i]!=2&&a[i]!=3);  }
		   var st=c(a[0]);
		   var t=a[0];
		   var sy=c(a[1]);
		   var y=a[1];
			if(t==y){
		   document.write("玩家1出"+st+"，玩家2出"+sy+"，平局");}
			else if(t==y+1||t==y-2){document.write("玩家1出"+st+"，玩家2出"+sy+"，玩家1胜");}
		  else{ document.write("玩家1出"+st+"，玩家2出"+sy+"，玩家2胜");}   
		}

else if((v==r-1||v==r+2)&&(v==b-1||v==b+2))
   {document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，玩家1输！");}
else if((b==r-1||b==r+2)&&(b==v-1||b==v+2))
   {document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，玩家2输！");}
else if((r==v-1||r==v+2)&&(r==b-1||r==b+2))
   {document.write("玩家1出"+sa+"，玩家2出"+sb+"，计算机出"+sr+"，计算机输！");}
}
function c(k)
{
switch(k){
case 1: return"剪刀";
case 2: return"石头";
case 3: return"布";
}}
</script>
</head>

<body>
<input type="button" value="开始游戏" onclick="q()" />
</body>
</html>
